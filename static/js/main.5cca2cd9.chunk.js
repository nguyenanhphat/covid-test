(this["webpackJsonpcovid-test"]=this["webpackJsonpcovid-test"]||[]).push([[0],{168:function(e,t,c){},169:function(e,t,c){},171:function(e,t,c){},172:function(e,t,c){},173:function(e,t,c){},174:function(e,t,c){},312:function(e,t,c){},313:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(56),o=c.n(i),s=(c(168),c(15)),l=c(58),r=c(65),d="KEY_BOOKMARK",j="KEY_DELETE",b=(c(169),c(2)),u=function(){return Object(b.jsx)("div",{className:"root-loading",children:Object(b.jsxs)("div",{className:"lds-grid",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})})},m=(c(171),function(e){var t=e.show,c=e.children,n=e.title,a=e.onClose,i=e.width,o=void 0===i?"50%":i,s=t?"modal display-block":"modal display-none";return Object(b.jsx)("div",{className:s,children:Object(b.jsxs)("section",{style:{width:o},className:"modal-main",children:[Object(b.jsxs)("div",{className:"header-modal",children:[Object(b.jsx)("span",{className:"title",children:n}),Object(b.jsx)("span",{className:"icon-close",onClick:a,children:Object(b.jsx)("img",{width:"30",src:"images/cancel.png",alt:"icon-close"})})]}),Object(b.jsx)("div",{className:"content-modal",children:c})]})})}),h=(c(172),function(e){var t=e.title,c=void 0===t?"Are you sure delete ?":t,n=e.content,a=void 0===n?"Item will be permanently deleted?":n,i=e.show,o=void 0===i||i,s=e.txtSubmit,l=void 0===s?"Yes":s,r=e.txtCancel,d=void 0===r?"No":r,j=e.onConfirm,u=void 0===j?function(){return null}:j,h=e.onClose,O=void 0===h?function(){return null}:h;return Object(b.jsxs)(m,{width:"30%",onClose:O,show:o,title:c,children:[Object(b.jsx)("div",{className:"content-modal-confirm",children:a}),Object(b.jsxs)("div",{className:"action-modal-confirm",children:[Object(b.jsx)("button",{onClick:u,className:"btn-danger mr5 mb5",children:l}),Object(b.jsx)("button",{className:"btn-primary mb5",onClick:O,children:d})]})]})}),O=function(e){if(e&&!isNaN(Date.parse(e))){var t=new Date(e);return["Ja","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+"\n"+String(t.getDate()).padStart(2,"0")+", "+t.getFullYear()}};function v(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}c(173);var x=function(e){var t=e.data,c=void 0===t?[]:t,a=e.loading,i=void 0!==a&&a,o=e.toggleLoading,m=Object(n.useState)(!1),x=Object(s.a)(m,2),f=x[0],g=x[1],p=Object(n.useState)(!1),N=Object(s.a)(p,2),C=N[0],y=N[1],D=Object(n.useRef)(null),S=Object(n.useState)([]),I=Object(s.a)(S,2),k=I[0],T=I[1],F=Object(n.useState)(localStorage.getItem(d)?JSON.parse(localStorage.getItem(d)):{}),J=Object(s.a)(F,2),M=J[0],A=J[1],E=Object(n.useState)(localStorage.getItem(j)?JSON.parse(localStorage.getItem(j)):{}),R=Object(s.a)(E,2),K=R[0],B=R[1],L=function(){g((function(e){return!e}))},P=function(){y((function(e){return!e}))};return Object(b.jsxs)("div",{className:"root-list-covid",children:[f&&Object(b.jsx)(w,{toggleModal:L,detailData:k}),Object(b.jsx)(h,{show:C,onClose:P,onConfirm:function(){if(D.current){var e=Object(r.a)(Object(r.a)({},K),{},Object(l.a)({},D.current,!0));B(e),localStorage.setItem(j,JSON.stringify(e)),P()}}}),Object(b.jsxs)("div",{className:"wrapper-table",children:[Object(b.jsxs)("table",{className:"table-custom",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Date"}),Object(b.jsx)("th",{children:"Country name"}),Object(b.jsx)("th",{children:"Total confirmed"}),Object(b.jsx)("th",{children:"Total deaths"}),Object(b.jsx)("th",{children:"Total recovered"}),Object(b.jsx)("th",{children:"Action"})]})}),c.length?Object(b.jsx)("tbody",{children:c.map((function(e,t){if(!K[e.ID])return Object(b.jsxs)("tr",{className:M[e.ID]&&"item-bookmarked",children:[Object(b.jsx)("td",{children:O(e.Date)}),Object(b.jsx)("td",{children:e.Country}),Object(b.jsx)("td",{children:v(e.TotalConfirmed)}),Object(b.jsx)("td",{children:v(e.TotalDeaths)}),Object(b.jsx)("td",{children:v(e.TotalRecovered)}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{className:"btn-primary mr5 mb5",onClick:function(){return function(e){o(),Promise.all([fetch("https://restcountries.com/v3.1/alpha/{code}".replace("{code}",e.CountryCode)),fetch("https://api.covid19api.com/country/{code}".replace("{code}",e.CountryCode))]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){T(e),o(),L()}))}(e)},children:"Detail"}),!M[e.ID]&&Object(b.jsx)("button",{onClick:function(){return function(e){var t=Object(r.a)(Object(r.a)({},M),{},Object(l.a)({},e.ID,!0));A(t),localStorage.setItem(d,JSON.stringify(t))}(e)},className:"btn-primary mr5 mb5",children:"Bookmark"}),Object(b.jsx)("button",{onClick:function(){return function(e){P(),D.current=e.ID}(e)},className:"btn-danger mb5",children:"Remove"})]})]},t)}))}):Object(b.jsx)("tbody",{className:"tbody-empty"})]}),i&&Object(b.jsx)(u,{})]})]})},f=c(315),g=c(316),p=c(320),N=c(156),C=c(157),y=c(68),D=c(64),S=c(159),w=(c(174),function(e){var t,c,n,a,i,o,l,r,d,j=e.detailData,u=void 0===j?[]:j,h=e.toggleModal,x=Object(s.a)(u,2),w=x[0],I=x[1];return Object(b.jsx)("div",{children:Object(b.jsxs)(m,{onClose:h,title:"Detail Information",show:!0,children:[Object(b.jsxs)("div",{className:"info-covid",children:[Object(b.jsxs)("div",{className:"line-item info-name",children:[Object(b.jsx)("img",{src:null===(t=w[0])||void 0===t||null===(c=t.flags)||void 0===c?void 0:c.png,alt:"flag-country",width:40}),Object(b.jsx)("span",{children:null===(n=w[0])||void 0===n||null===(a=n.name)||void 0===a?void 0:a.common})]}),Object(b.jsxs)("div",{className:"line-item",children:[Object(b.jsx)("label",{className:"label-info",children:"Population:"}),Object(b.jsx)("div",{className:"value-info",children:v(null===(i=w[0])||void 0===i?void 0:i.population)})]}),Object(b.jsxs)("div",{className:"line-item",children:[Object(b.jsx)("label",{className:"label-info",children:"Capital:"}),Object(b.jsx)("div",{className:"value-info",children:((null===(o=w[0])||void 0===o?void 0:o.capital)||[]).map((function(e,t){return Object(b.jsx)("span",{children:e},t)}))})]}),Object(b.jsxs)("div",{className:"line-item",children:[Object(b.jsx)("label",{className:"label-info",children:"Subregion:"}),Object(b.jsx)("div",{className:"value-info",children:null===(l=w[0])||void 0===l?void 0:l.subregion})]})]}),Object(b.jsxs)("div",{className:"covid-period-time",children:[Object(b.jsxs)("h2",{className:"header-total",children:["Total covid case in ",null===(r=w[0])||void 0===r||null===(d=r.name)||void 0===d?void 0:d.common]}),I.length?Object(b.jsx)("div",{className:"content-chart",children:Object(b.jsx)(f.a,{width:"100%",height:"100%",children:Object(b.jsxs)(g.a,{width:500,height:300,data:I,margin:{top:5,right:30,left:20,bottom:5},children:[Object(b.jsx)(p.a,{strokeDasharray:"3 3"}),Object(b.jsx)(N.a,{dataKey:"Date",tickFormatter:function(e){return function(e){if(e&&!isNaN(Date.parse(e))){var t=new Date(e);return["Ja","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getFullYear()}}(e)}}),Object(b.jsx)(C.a,{tickFormatter:function(e){return v(e)}}),Object(b.jsx)(y.a,{formatter:function(e){return v(e)},labelFormatter:function(e){return O(e)}}),Object(b.jsx)(D.a,{}),Object(b.jsx)(S.a,{type:"monotone",dataKey:"Confirmed",stroke:"#82ca9d"})]})})}):Object(b.jsx)("div",{className:"empty-data",children:"No Data"})]})]})})});c(312);var I=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),l=o[0],r=o[1];Object(n.useEffect)((function(){d(),fetch("https://api.covid19api.com/summary").then((function(e){return e.json()})).then((function(e){var t=e.Countries;t&&t.length&&t.sort((function(e,t){return t.TotalConfirmed-e.TotalConfirmed||t.TotalDeaths-e.TotalDeaths||t.TotalRecovered-e.TotalRecovered})),a(t),d()}))}),[]);var d=function(){r((function(e){return!e}))};return Object(b.jsxs)("div",{className:"root",children:[Object(b.jsx)("h2",{className:"header",children:"COVID INFORMATION"}),Object(b.jsx)(x,{toggleLoading:d,loading:l,data:c})]})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,322)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),i(e),o(e)}))};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root")),k()}},[[313,1,2]]]);
//# sourceMappingURL=main.5cca2cd9.chunk.js.map