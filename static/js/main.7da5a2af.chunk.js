(this["webpackJsonpcovid-test"]=this["webpackJsonpcovid-test"]||[]).push([[0],{168:function(e,t,c){},169:function(e,t,c){},171:function(e,t,c){},172:function(e,t,c){},173:function(e,t,c){},311:function(e,t,c){},312:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(56),s=c.n(i),o=(c(168),c(15)),l=c(58),r=c(65),d="KEY_BOOKMARK",j="KEY_DELETE",b=(c(169),c(2)),u=function(){return Object(b.jsx)("div",{className:"root-loading",children:Object(b.jsxs)("div",{className:"lds-grid",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})})},O=function(e){if(e&&!isNaN(Date.parse(e))){var t=new Date(e);return["Ja","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+"\n"+String(t.getDate()).padStart(2,"0")+", "+t.getFullYear()}};function h(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}c(171);var m=function(e){var t=e.data,c=void 0===t?[]:t,a=e.loading,i=void 0!==a&&a,s=e.toggleLoading,m=Object(n.useState)(!1),v=Object(o.a)(m,2),x=v[0],f=v[1],g=Object(n.useState)([]),p=Object(o.a)(g,2),N=p[0],D=p[1],y=Object(n.useState)(localStorage.getItem(d)?JSON.parse(localStorage.getItem(d)):{}),S=Object(o.a)(y,2),I=S[0],T=S[1],k=Object(n.useState)(localStorage.getItem(j)?JSON.parse(localStorage.getItem(j)):{}),F=Object(o.a)(k,2),J=F[0],w=F[1],M=function(){f((function(e){return!e}))};return console.log("deleteId---:",J),Object(b.jsxs)("div",{className:"root-list-covid",children:[x&&Object(b.jsx)(C,{toggleModal:M,detailData:N}),Object(b.jsxs)("div",{className:"wrapper-table",children:[Object(b.jsxs)("table",{className:"table-custom",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Date"}),Object(b.jsx)("th",{children:"Country name"}),Object(b.jsx)("th",{children:"Total confirmed"}),Object(b.jsx)("th",{children:"Total deaths"}),Object(b.jsx)("th",{children:"Total recovered"}),Object(b.jsx)("th",{children:"Action"})]})}),c.length?Object(b.jsx)("tbody",{children:c.map((function(e,t){if(!J[e.ID])return Object(b.jsxs)("tr",{className:I[e.ID]&&"item-bookmarked",children:[Object(b.jsx)("td",{children:O(e.Date)}),Object(b.jsx)("td",{children:e.Country}),Object(b.jsx)("td",{children:h(e.TotalConfirmed)}),Object(b.jsx)("td",{children:h(e.TotalDeaths)}),Object(b.jsx)("td",{children:h(e.TotalRecovered)}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{className:"btn-primary mr5 mb5",onClick:function(){return function(e){s(),Promise.all([fetch("https://restcountries.com/v3.1/alpha/{code}".replace("{code}",e.CountryCode)),fetch("https://api.covid19api.com/country/{code}".replace("{code}",e.CountryCode))]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){D(e),s(),M()}))}(e)},children:"Detail"}),!I[e.ID]&&Object(b.jsx)("button",{onClick:function(){return function(e){var t=Object(r.a)(Object(r.a)({},I),{},Object(l.a)({},e.ID,!0));T(t),localStorage.setItem(d,JSON.stringify(t))}(e)},className:"btn-primary mr5 mb5",children:"Bookmark"}),Object(b.jsx)("button",{onClick:function(){return function(e){var t=Object(r.a)(Object(r.a)({},J),{},Object(l.a)({},e.ID,!0));w(t),localStorage.setItem(j,JSON.stringify(t))}(e)},className:"btn-danger mb5",children:"Remove"})]})]},t)}))}):Object(b.jsx)("tbody",{className:"tbody-empty"})]}),i&&Object(b.jsx)(u,{})]})]})},v=(c(172),function(e){var t=e.show,c=e.children,n=e.title,a=e.onClose,i=t?"modal display-block":"modal display-none";return Object(b.jsx)("div",{className:i,children:Object(b.jsxs)("section",{className:"modal-main",children:[Object(b.jsxs)("div",{className:"header-modal",children:[Object(b.jsx)("span",{className:"title",children:n}),Object(b.jsx)("span",{className:"icon-close",onClick:a,children:Object(b.jsx)("img",{width:"30",src:"images/cancel.png",alt:"icon-close"})})]}),Object(b.jsx)("div",{className:"content-modal",children:c})]})})}),x=c(314),f=c(315),g=c(319),p=c(156),N=c(157),D=c(68),y=c(64),S=c(159),C=(c(173),function(e){var t,c,n,a,i,s,l,r,d,j=e.detailData,u=void 0===j?[]:j,m=e.toggleModal,C=Object(o.a)(u,2),I=C[0],T=C[1];return Object(b.jsx)("div",{children:Object(b.jsxs)(v,{onClose:m,title:"Detail Information",show:!0,children:[Object(b.jsxs)("div",{className:"info-covid",children:[Object(b.jsxs)("div",{className:"line-item info-name",children:[Object(b.jsx)("img",{src:null===(t=I[0])||void 0===t||null===(c=t.flags)||void 0===c?void 0:c.png,alt:"flag-country",width:40}),Object(b.jsx)("span",{children:null===(n=I[0])||void 0===n||null===(a=n.name)||void 0===a?void 0:a.common})]}),Object(b.jsxs)("div",{className:"line-item",children:[Object(b.jsx)("label",{className:"label-info",children:"Population:"}),Object(b.jsx)("div",{className:"value-info",children:h(null===(i=I[0])||void 0===i?void 0:i.population)})]}),Object(b.jsxs)("div",{className:"line-item",children:[Object(b.jsx)("label",{className:"label-info",children:"Capital:"}),Object(b.jsx)("div",{className:"value-info",children:((null===(s=I[0])||void 0===s?void 0:s.capital)||[]).map((function(e,t){return Object(b.jsx)("span",{children:e},t)}))})]}),Object(b.jsxs)("div",{className:"line-item",children:[Object(b.jsx)("label",{className:"label-info",children:"Subregion:"}),Object(b.jsx)("div",{className:"value-info",children:null===(l=I[0])||void 0===l?void 0:l.subregion})]})]}),Object(b.jsxs)("div",{className:"covid-period-time",children:[Object(b.jsxs)("h2",{className:"header-total",children:["Total covid case in ",null===(r=I[0])||void 0===r||null===(d=r.name)||void 0===d?void 0:d.common]}),T.length?Object(b.jsx)("div",{className:"content-chart",children:Object(b.jsx)(x.a,{width:"100%",height:"100%",children:Object(b.jsxs)(f.a,{width:500,height:300,data:T,margin:{top:5,right:30,left:20,bottom:5},children:[Object(b.jsx)(g.a,{strokeDasharray:"3 3"}),Object(b.jsx)(p.a,{dataKey:"Date",tickFormatter:function(e){return function(e){if(e&&!isNaN(Date.parse(e))){var t=new Date(e);return["Ja","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getFullYear()}}(e)}}),Object(b.jsx)(N.a,{tickFormatter:function(e){return h(e)}}),Object(b.jsx)(D.a,{formatter:function(e){return h(e)},labelFormatter:function(e){return O(e)}}),Object(b.jsx)(y.a,{}),Object(b.jsx)(S.a,{type:"monotone",dataKey:"Confirmed",stroke:"#82ca9d"})]})})}):Object(b.jsx)("div",{className:"empty-data",children:"No Data"})]})]})})});c(311);var I=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),s=Object(o.a)(i,2),l=s[0],r=s[1];Object(n.useEffect)((function(){d(),fetch("https://api.covid19api.com/summary").then((function(e){return e.json()})).then((function(e){var t=e.Countries;t&&t.length&&t.sort((function(e,t){return t.TotalConfirmed-e.TotalConfirmed||t.TotalDeaths-e.TotalDeaths||t.TotalRecovered-e.TotalRecovered})),a(t),d()}))}),[]);var d=function(){r((function(e){return!e}))};return Object(b.jsxs)("div",{className:"root",children:[Object(b.jsx)("h2",{className:"header",children:"COVID INFORMATION"}),Object(b.jsx)(m,{toggleLoading:d,loading:l,data:c})]})},T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,321)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root")),T()}},[[312,1,2]]]);
//# sourceMappingURL=main.7da5a2af.chunk.js.map